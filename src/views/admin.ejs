<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Groepswerk2</title>
        <link rel="stylesheet" href="/css/admin.css" />
    </head>
    <body>
        <div id="buttons-container">
            <a href="/admin?filter=computerscreen"
                ><button>Computerscreens</button></a
            >
            <a href="/admin?filter=headphone"><button>Headphones</button></a>
            <a href="/admin?filter=keyboard"><button>Keyboards</button></a>
            <a href="/admin?filter=mouse"><button>Mouses</button></a>
            <a href="/admin?filter=ram"><button>RAM</button></a>
            <a href="/admin?filter=videocard"><button>Videocards</button></a>
            <a href="/admin?filter=user"><button>Users</button></a>
        </div>
        <div id="info-container">
            <div id="error"></div>
            <div id="overview">
                <% if (choice !== "user") { %>
                <h2>Overzicht voor <%= choice %></h2>
                <table>
                    <thead>
                        <tr>
                            <th>type</th>

                            <th>name</th>
                            <th>price</th>
                            <th>description</th>
                            <th>images</th>
                            <th>raters</th>
                            <th>points</th>
                            <th>Delete</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% apiData.forEach((data) => { %>
                        <tr>
                            <td><%- choice %></td>

                            <td><%- data.name %></td>
                            <td><%- data.price %></td>
                            <td><%- data.description %></td>
                            <td>
                                <img
                                    src="<%- data.images[0] %>"
                                    alt="Product image"
                                    style="width: 80px; height: 80px"
                                />
                            </td>
                            <td><%- data.raters %></td>
                            <td><%- data.points %></td>
                            <td>
                                <button
                                    class="red"
                                    id="deleteBtn"
                                    data-id="<%- data._id %>"
                                >
                                    Delete
                                </button>
                            </td>
                        </tr>
                        <% }); %>
                    </tbody>
                </table>
                <% } else { %>
                <h2>Overzicht voor <%= choice %></h2>
                <table>
                    <thead>
                        <tr>
                            <th>name</th>
                            <th>email-phone</th>
                            <th>role</th>
                            <th>Delete</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% apiData.forEach((data) => { %>
                        <tr>
                            <td><%- data.name %></td>
                            <td><%- data.email_phone %></td>
                            <td><%- data.role %></td>
                            <td>
                                <button
                                    class="deleteBtn"
                                    data-id="<%- data._id %>"
                                    data-collection="<%- choice %>"
                                >
                                    Delete
                                </button>
                            </td>
                        </tr>
                        <% }); %>
                    </tbody>
                </table>
                <% } %>
            </div>
        </div>
    </body>
</html>
